---
title: 'Using CSS Modules in Next.js: A Comprehensive Guide with Examples'
date: '2023-10-27'
lastmod: '2024-02-29'
tags: ['next-js', 'css modules', 'css', 'styling', 'react', 'web development']
draft: false
summary: 'Learn how to leverage CSS Modules in your Next.js projects for cleaner, more maintainable, and collision-free CSS. This comprehensive guide covers setup, usage, and best practices with detailed examples.'
authors: ['default']
---

# Using CSS Modules in Next.js: A Comprehensive Guide

CSS Modules offer a fantastic solution for managing CSS in modern JavaScript frameworks like React and Next.js. They automatically scope CSS class names locally, preventing naming collisions and promoting cleaner, more maintainable code. This guide will walk you through how to effectively use CSS Modules in your Next.js projects.

## What are CSS Modules?

CSS Modules are a way to write CSS that is scoped locally to the component it's used in. Each CSS class name becomes unique by appending a hash to it during build time. This ensures that your CSS rules only apply to the elements within that specific component, eliminating the risk of unintended style overrides from other parts of your application.

**Benefits of Using CSS Modules:**

- **Component-Level Scoping:** Prevents class name collisions and style bleed-through.
- **Explicit Dependencies:** Clearly defines which CSS styles a component depends on.
- **Dead Code Elimination:** Makes it easier to identify and remove unused CSS rules.
- **Code Reusability:** Promotes component-based styling, making it easier to reuse components across your application.
- **Improved Maintainability:** Makes your codebase easier to reason about and maintain.

## Getting Started: Setting up CSS Modules in Next.js

Next.js has built-in support for CSS Modules. You don't need to install any extra packages to get started. The only requirement is to name your CSS files using the `.module.css` or `.module.scss` extension (if you are using Sass/SCSS).

Here's a breakdown:

1.  **Create a CSS Module File:** Create a CSS file with the `.module.css` extension (e.g., `MyComponent.module.css`).
2.  **Define Your Styles:** Write your CSS rules inside this file.
3.  **Import into your Component:** Import the CSS file into your React component. Next.js will automatically process it and return an object where the keys are your class names and the values are the generated unique class names.
4.  **Apply the Styles:** Use the imported object to apply the styles to your component's elements.

## Example: A Simple Button Component

Let's create a simple button component that uses CSS Modules for styling.

**1. Create `components/Button.js`:**

```jsx
// components/Button.js
import styles from './Button.module.css'

export default function Button({ children, onClick }) {
  return (
    <button className={styles.button} onClick={onClick}>
      {children}
    </button>
  )
}
```

**2. Create `components/Button.module.css`:**

```plaintext
/* components/Button.module.css */
.button {
  background-color: #4CAF50; /* Green */
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
  border-radius: 5px;
}

.button:hover {
  background-color: #3e8e41;
}
```

**Explanation:**

- In `Button.js`, we import `Button.module.css` as `styles`.
- The `styles` object now contains a property named `button` whose value is the unique class name generated by Next.js for the `.button` selector in our CSS file.
- We apply this unique class name to the `<button>` element using `className={styles.button}`.

**3. Use the Button Component in a Page (e.g., `pages/index.js`):**

```jsx
// pages/index.js
import Button from '../components/Button'

export default function Home() {
  return (
    <div>
      <h1>Welcome to my Next.js app</h1>
      <Button onClick={() => alert('Button Clicked!')}>Click Me!</Button>
    </div>
  )
}
```

When you run your Next.js development server, you'll see the styled button. Inspect the element in your browser's developer tools, and you'll notice that the `className` attribute of the button element is something like `Button_button__[hash]`, where `[hash]` is a unique identifier.

## Using Sass/SCSS with CSS Modules

Next.js also supports Sass/SCSS with CSS Modules out of the box. You just need to install the `sass` package:

```bash
npm install sass
# or
yarn add sass
```

Then, simply use the `.module.scss` or `.module.sass` extension for your Sass/SCSS files.

**Example:**

**1. Create `components/MyComponent.module.scss`:**

```plaintext
/* components/MyComponent.module.scss */
.container {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  border: 1px solid #ccc;
  border-radius: 5px;

  h2 {
    color: blue;
    margin-bottom: 10px;
  }

  p {
    font-size: 16px;
  }
}

.highlightedText {
  color: red;
  font-weight: bold;
}
```

**2. Create `components/MyComponent.js`:**

```jsx
// components/MyComponent.js
import styles from './MyComponent.module.scss'

export default function MyComponent() {
  return (
    <div className={styles.container}>
      <h2>My Component</h2>
      <p>This is a paragraph of text.</p>
      <p className={styles.highlightedText}>This text is highlighted!</p>
    </div>
  )
}
```

**3. Use the Component:** Similar to the CSS Modules example, import and render `MyComponent` in your page.

## Global Styles

While CSS Modules are great for component-specific styles, you might still need to apply global styles (e.g., reset styles, default font styles, or global theme variables).

Here's how to handle global styles in Next.js:

1.  **Create a Global CSS File:** Create a CSS file (e.g., `styles/globals.css`). **Do not use the `.module.css` extension for global styles.**
2.  **Import the Global CSS File:** Import this file in your `_app.js` file.

**Example:**

**1. Create `styles/globals.css`:**

```plaintext
/* styles/globals.css */
html,
body {
  padding: 0;
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,
    Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;
}

a {
  color: inherit;
  text-decoration: none;
}

* {
  box-sizing: border-box;
}
```

**2. Update `pages/_app.js`:**

```jsx
// pages/_app.js
import '../styles/globals.css'

function MyApp({ Component, pageProps }) {
  return <Component {...pageProps} />
}

export default MyApp
```

**Important:** You can only import global CSS files in the `_app.js` file. Importing them in any other component will result in an error.

## Best Practices for Using CSS Modules in Next.js

- **Naming Convention:** Use a consistent naming convention for your CSS Modules files (e.g., `ComponentName.module.css` or `ComponentName.module.scss`).
- **Component-Specific Styling:** Limit the scope of your CSS rules to the component they are used in.
- **Use Sass/SCSS for Complex Styles:** Leverage the power of Sass/SCSS for features like variables, mixins, and nesting to write more organized and maintainable CSS.
- **Keep Your CSS Modules Small:** Break down large components into smaller ones, each with its own CSS Module.
- **Avoid `!important`:** Rely on CSS specificity and proper structuring of your styles instead of using `!important`. Overuse of `!important` can make your CSS difficult to maintain.
- **Use CSS Variables (Custom Properties):** Define reusable values such as colors, fonts, and sizes as CSS variables in your global stylesheet or component-specific CSS modules.

## Troubleshooting Common Issues

- **CSS styles not applying:** Make sure you've imported the CSS module file correctly and are applying the generated class names to your elements using the `styles` object. Double-check the file paths and class names for typos. Also, ensure your component is re-rendering if you are dynamically changing the applied styles.
- **Class name collisions:** This is the problem CSS Modules solves! However, if you're experiencing unexpected style overrides, double-check that you're using CSS Modules correctly and that your class names are unique within each CSS Module file. Also check for global styles accidentally overriding your module styles.
- **Sass/SCSS not working:** Ensure that you have installed the `sass` package.

## Conclusion

CSS Modules are a powerful tool for managing CSS in Next.js applications. They promote cleaner, more maintainable code by scoping styles locally and preventing naming collisions. By following the guidelines and best practices outlined in this guide, you can effectively leverage CSS Modules to build scalable and well-structured Next.js projects. Remember to balance CSS Modules with global styles for a comprehensive styling solution. Good luck!
