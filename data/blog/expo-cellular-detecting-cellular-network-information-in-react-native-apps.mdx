---
title: 'Expo Cellular: Detecting Cellular Network Information in React Native Apps'
date: '2024-10-27'
lastmod: '2024-10-27'
tags: ['react-native', 'expo', 'cellular', 'network', 'mobile network', 'connectivity', 'ios', 'android', 'mobile data', 'telephony', 'carrier']
draft: false
summary: 'Learn how to use Expo Cellular to detect cellular network information like carrier name, MCC, MNC, and network generation (2G, 3G, 4G, 5G) in your React Native applications using the Expo framework. Get code examples and best practices for handling cellular data.'
authors: ['default']
---

# Expo Cellular: Detecting Cellular Network Information in React Native Apps

In today's mobile-first world, understanding the cellular connectivity of a user's device is crucial for providing a seamless and optimized user experience. Whether you're building a network monitoring tool, tailoring content based on network speed, or implementing carrier-specific features, knowing the cellular network details is essential. This blog post will guide you through using `expo-cellular`, a powerful Expo library that allows you to access cellular network information in your React Native applications.

## What is Expo Cellular?

`expo-cellular` is an Expo module that provides access to cellular network information on both iOS and Android devices. It allows you to retrieve valuable data points such as:

*   **Carrier Name:** The name of the mobile network operator (e.g., Verizon, AT&T, Vodafone).
*   **MCC (Mobile Country Code):** A unique identifier for the country in which the carrier operates.
*   **MNC (Mobile Network Code):** A unique identifier for the carrier within a specific country.
*   **Network Generation:** The type of cellular network connection (e.g., 2G, 3G, 4G, 5G).
*   **Cellular Generation:** The type of cellular connection available. This can return `'2G'`, `'3G'`, `'4G'`, `'5G'`, `'unknown'`, or `null` if no connection is present.

This information enables you to adapt your app's behavior based on the user's network conditions, potentially reducing data consumption on slower networks or providing optimized experiences for users on faster connections.

## Getting Started with Expo Cellular

### Prerequisites

*   An Expo project (managed or bare workflow). If you don't have one, create a new Expo project using:

    ```bash
    npx create-expo-app my-cellular-app
    ```

*   A development environment configured for React Native development (Node.js, npm or yarn, Expo CLI).

### Installation

Install the `expo-cellular` package using `expo install`:

```bash
expo install expo-cellular
```

This command will automatically install the necessary native modules and update your `app.json` or `app.config.js` file.

### Permissions

On iOS, no specific permissions are required to access cellular information. However, on Android, you may need to request the `android.permission.ACCESS_NETWORK_STATE` permission, although in most Expo SDK versions, this permission is automatically handled for you. Check the Expo documentation and your `app.json` or `app.config.js` file to confirm.

## Using Expo Cellular: Code Examples

Now, let's dive into some code examples to demonstrate how to use `expo-cellular` in your React Native application.

### Basic Usage: Retrieving Cellular Information

```javascript
import * as Cellular from 'expo-cellular';
import React, { useState, useEffect } from 'react';
import { View, Text, StyleSheet, Platform } from 'react-native';

export default function App() {
  const [cellularInfo, setCellularInfo] = useState({
    carrier: null,
    isoCountryCode: null,
    mobileCountryCode: null,
    mobileNetworkCode: null,
    networkGeneration: null,
  });

  useEffect(() => {
    const getCellularData = async () => {
      try {
        const carrier = await Cellular.getCarrierNameAsync();
        const isoCountryCode = await Cellular.getIsoCountryCodeAsync();
        const mobileCountryCode = await Cellular.getMobileCountryCodeAsync();
        const mobileNetworkCode = await Cellular.getMobileNetworkCodeAsync();
        const cellularGeneration = await Cellular.getCellularGenerationAsync();

        setCellularInfo({
          carrier,
          isoCountryCode,
          mobileCountryCode,
          mobileNetworkCode,
          networkGeneration: cellularGeneration,
        });
      } catch (error) {
        console.error('Error getting cellular info:', error);
        // Handle the error appropriately. Consider displaying a user-friendly message.
        setCellularInfo({
          carrier: 'N/A',
          isoCountryCode: 'N/A',
          mobileCountryCode: 'N/A',
          mobileNetworkCode: 'N/A',
          networkGeneration: 'N/A',
        });
      }
    };

    getCellularData();
  }, []);

  return (
    <View style={styles.container}>
      <Text style={styles.title}>Cellular Information</Text>
      <Text>Carrier: {cellularInfo.carrier || 'Loading...'}</Text>
      <Text>ISO Country Code: {cellularInfo.isoCountryCode || 'Loading...'}</Text>
      <Text>Mobile Country Code: {cellularInfo.mobileCountryCode || 'Loading...'}</Text>
      <Text>Mobile Network Code: {cellularInfo.mobileNetworkCode || 'Loading...'}</Text>
      <Text>Network Generation: {cellularInfo.networkGeneration || 'Loading...'}</Text>
      {Platform.OS === 'ios' && (
        <Text style={styles.note}>
          Note: Some information may be unavailable on iOS due to privacy restrictions.
        </Text>
      )}
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#fff',
    alignItems: 'center',
    justifyContent: 'center',
    padding: 20,
  },
  title: {
    fontSize: 20,
    fontWeight: 'bold',
    marginBottom: 10,
  },
  note: {
    marginTop: 20,
    fontSize: 12,
    color: 'gray',
  },
});
```

**Explanation:**

1.  **Import `expo-cellular`:** We import the `expo-cellular` module as `Cellular`.
2.  **State Management:**  We use the `useState` hook to manage the cellular information, initializing it with default values (e.g., `null`).
3.  **`useEffect` Hook:** The `useEffect` hook is used to fetch the cellular data when the component mounts.  This prevents re-fetching on every render.
4.  **`getCellularData` Async Function:** This function uses `async/await` to retrieve the cellular information from the `expo-cellular` methods.
5.  **Error Handling:** We wrap the code that fetches the cellular info in a `try...catch` block to handle potential errors. This is important because cellular information might be unavailable on some devices or under certain conditions.
6.  **Displaying the Data:**  We display the retrieved cellular information in `Text` components.
7.  **Platform Specific Notes:** We include a note on iOS, as some cellular information might be restricted.

### Listening for Network Changes

While the previous example only fetches the data once on component mount, you might want to be notified when the cellular network information changes.  `expo-cellular` doesn't provide direct event listeners for changes, but you can combine it with `expo-network` to get updates when the connection type changes, and then refetch the cellular information.  While this isn't a direct cellular change listener, it offers a close approximation when network connectivity changes.

```javascript
import * as Cellular from 'expo-cellular';
import * as Network from 'expo-network';
import React, { useState, useEffect } from 'react';
import { View, Text, StyleSheet, Platform } from 'react-native';

export default function App() {
  const [cellularInfo, setCellularInfo] = useState({
    carrier: null,
    isoCountryCode: null,
    mobileCountryCode: null,
    mobileNetworkCode: null,
    networkGeneration: null,
  });

  const getCellularData = async () => {
    try {
      const carrier = await Cellular.getCarrierNameAsync();
      const isoCountryCode = await Cellular.getIsoCountryCodeAsync();
      const mobileCountryCode = await Cellular.getMobileCountryCodeAsync();
      const mobileNetworkCode = await Cellular.getMobileNetworkCodeAsync();
      const cellularGeneration = await Cellular.getCellularGenerationAsync();

      setCellularInfo({
        carrier,
        isoCountryCode,
        mobileCountryCode,
        mobileNetworkCode,
        networkGeneration: cellularGeneration,
      });
    } catch (error) {
      console.error('Error getting cellular info:', error);
      // Handle the error appropriately. Consider displaying a user-friendly message.
      setCellularInfo({
        carrier: 'N/A',
        isoCountryCode: 'N/A',
        mobileCountryCode: 'N/A',
        mobileNetworkCode: 'N/A',
        networkGeneration: 'N/A',
      });
    }
  };

  useEffect(() => {
    getCellularData();

    const subscription = Network.addEventListener((connectionInfo) => {
      if (connectionInfo.type === Network.NetworkStateType.CELLULAR) {
        getCellularData();
      }
    });

    return () => {
      subscription.remove();
    };
  }, []);


  return (
    <View style={styles.container}>
      <Text style={styles.title}>Cellular Information</Text>
      <Text>Carrier: {cellularInfo.carrier || 'Loading...'}</Text>
      <Text>ISO Country Code: {cellularInfo.isoCountryCode || 'Loading...'}</Text>
      <Text>Mobile Country Code: {cellularInfo.mobileCountryCode || 'Loading...'}</Text>
      <Text>Mobile Network Code: {cellularInfo.mobileNetworkCode || 'Loading...'}</Text>
      <Text>Network Generation: {cellularInfo.networkGeneration || 'Loading...'}</Text>
      {Platform.OS === 'ios' && (
        <Text style={styles.note}>
          Note: Some information may be unavailable on iOS due to privacy restrictions.
        </Text>
      )}
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#fff',
    alignItems: 'center',
    justifyContent: 'center',
    padding: 20,
  },
  title: {
    fontSize: 20,
    fontWeight: 'bold',
    marginBottom: 10,
  },
  note: {
    marginTop: 20,
    fontSize: 12,
    color: 'gray',
  },
});
```

**Key improvements in this example:**

1.  **`expo-network`:** This example uses the `expo-network` module to listen for changes in the network connection.
2.  **`Network.addEventListener`:** This function sets up a listener for network changes.
3.  **`connectionInfo.type === Network.NetworkStateType.CELLULAR`:**  This condition checks if the network type is `CELLULAR`.  If so, the `getCellularData` function is called to update the cellular information.
4.  **`subscription.remove()`:** This is important! The `useEffect` hook returns a cleanup function that removes the event listener when the component unmounts.  This prevents memory leaks.

**Important Note:** There's no guarantee that cellular information will change *every* time the network type changes.  For example, the carrier might remain the same even if the device switches between 4G and 5G within the same coverage area.

### Handling Unavailable Information

Cellular information might not always be available. For example:

*   The device might not have a SIM card inserted.
*   The device might be in airplane mode.
*   The user might have disabled cellular data.
*   Privacy restrictions on iOS might limit access to certain information.

Therefore, it's crucial to handle cases where the data is unavailable. In the previous examples, we used a `try...catch` block to catch errors and set default values. Consider providing user-friendly messages to inform the user if cellular information is unavailable.

## Best Practices

*   **Error Handling:** Always handle potential errors when fetching cellular information.
*   **User Privacy:**  Be mindful of user privacy.  Clearly explain why you need access to cellular information and how you will use it.
*   **Conditional Rendering:**  Adapt your UI and functionality based on the available cellular information.  For example, you could display a warning message if the user is on a slow 2G network.
*   **Background Fetching (Advanced):** If you need to periodically fetch cellular information in the background, consider using background tasks or headless JS.  However, be aware of the impact on battery life.
*   **Use `expo-network` for Connectivity Changes:** As mentioned before, Expo Cellular does not automatically detect changes. Use `expo-network` and then refetch information.

## Use Cases for Expo Cellular

Here are some potential use cases for `expo-cellular`:

*   **Network Monitoring Tools:**  Display detailed information about the user's cellular network connection.
*   **Data Optimization:**  Reduce data consumption on slower networks by loading lower-resolution images or disabling data-intensive features.
*   **Carrier-Specific Features:**  Implement features that are specific to certain mobile carriers.
*   **Location Services:** Improve the accuracy of location services by using cellular tower information.  (Note: this is a more advanced use case and requires additional libraries.)
*   **Troubleshooting:**  Provide users with tools to troubleshoot network connectivity problems.
*   **A/B Testing:** Run A/B tests that target users on specific mobile networks.

## Conclusion

`expo-cellular` is a valuable tool for accessing cellular network information in your React Native applications using the Expo framework. By understanding how to use this library, you can create more responsive, optimized, and user-friendly mobile experiences. Remember to handle errors, respect user privacy, and adapt your app's behavior based on the available cellular information. By incorporating `expo-network` and properly managing errors, you can develop robust and reliable applications that adapt intelligently to different network conditions. Happy coding!