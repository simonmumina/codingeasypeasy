---
title: 'Stack in Material UI (MUI) v5: A Comprehensive Guide with Code Examples'
date: '2024-10-27'
lastmod: '2024-10-27'
tags:
  ['material-ui', 'mui', 'stack', 'layout', 'react', 'components', 'styling', 'responsive-design']
draft: false
summary: 'Learn how to use the Stack component in Material UI (MUI) v5 for building flexible and responsive layouts. This comprehensive guide covers basic usage, direction, spacing, dividers, responsive configurations, and advanced styling techniques with code examples.'
authors: ['default']
---

# Stack in Material UI (MUI) v5: A Comprehensive Guide with Code Examples

Material UI (MUI) is a popular React UI library that provides a rich set of pre-built components for building modern web applications. One of the fundamental layout components in MUI is the `Stack` component. This powerful component simplifies the creation of layouts where you need to arrange elements horizontally or vertically, with customizable spacing and dividers. This guide will delve into the intricacies of the `Stack` component in MUI v5, providing practical examples and best practices.

## What is the Stack Component?

The `Stack` component in MUI is a simple container that arranges its children in a single direction â€“ either horizontally or vertically. It offers built-in spacing, dividers, and responsive behavior, making it an excellent choice for various layout scenarios. Think of it as a more flexible alternative to simple `<div>` elements or manually applying CSS flexbox properties.

## Why Use the Stack Component?

Using the `Stack` component offers several advantages:

- **Simplified Layout:** Easily arrange elements in a single direction without manually managing flexbox properties.
- **Consistent Spacing:** Apply consistent spacing between elements using the `spacing` prop, ensuring a uniform look and feel.
- **Dividers:** Add visual separators between elements using the `divider` prop, improving readability and visual clarity.
- **Responsive Design:** Configure the `direction` and `spacing` props based on screen size for responsive layouts.
- **Accessibility:** The `Stack` component inherently provides better accessibility due to semantic structure and proper usage.
- **Reduced Boilerplate:** Avoid writing verbose CSS for basic layout tasks, saving time and effort.

## Basic Usage

The most basic usage of the `Stack` component involves wrapping the elements you want to arrange.

```plaintext
import Stack from '@mui/material/Stack';
import Button from '@mui/material/Button';

function BasicStackExample() {
  return (
    <Stack direction="row" spacing={2}>
      <Button variant="contained">Button 1</Button>
      <Button variant="contained">Button 2</Button>
      <Button variant="contained">Button 3</Button>
    </Stack>
  );
}

export default BasicStackExample;
```

In this example:

- We import the `Stack` and `Button` components from Material UI.
- We set the `direction` prop to `"row"` to arrange the buttons horizontally.
- We set the `spacing` prop to `2`, which corresponds to a spacing of `2 * theme.spacing(1)` (typically 16px) between the buttons based on the MUI theme.

## Controlling the Direction

The `direction` prop determines the orientation of the stack. It accepts two values:

- `"row"` (default): Arranges elements horizontally.
- `"column"`: Arranges elements vertically.

```plaintext
import Stack from '@mui/material/Stack';
import Typography from '@mui/material/Typography';

function ColumnStackExample() {
  return (
    <Stack direction="column" spacing={2}>
      <Typography variant="h6">Title</Typography>
      <Typography variant="body1">
        This is some text arranged vertically in a column stack.
      </Typography>
    </Stack>
  );
}

export default ColumnStackExample;
```

## Adjusting Spacing

The `spacing` prop controls the distance between the elements within the stack. It accepts a number or a string. The value is multiplied by the theme's `spacing` value (default is 8px). Therefore, `spacing={2}` is equivalent to `16px`.

```plaintext
import Stack from '@mui/material/Stack';
import Box from '@mui/material/Box';
import { styled } from '@mui/material/styles';

const Item = styled(Box)(({ theme }) => ({
  backgroundColor: theme.palette.mode === 'dark' ? '#1A2027' : '#fff',
  ...theme.typography.body2,
  padding: theme.spacing(1),
  textAlign: 'center',
  color: theme.palette.text.secondary,
}));

function SpacingStackExample() {
  return (
    <Stack direction="row" spacing={{ xs: 0.5, sm: 2, md: 4 }}>
      <Item>Item 1</Item>
      <Item>Item 2</Item>
      <Item>Item 3</Item>
    </Stack>
  );
}

export default SpacingStackExample;
```

Notice how the `spacing` prop now accepts an object with responsive values. This will be covered in more detail in the "Responsive Spacing" section below.

## Adding Dividers

The `divider` prop allows you to insert a visual separator between the elements in the stack. The divider is typically a `<Divider>` component from Material UI.

```plaintext
import Stack from '@mui/material/Stack';
import Divider from '@mui/material/Divider';
import Paper from '@mui/material/Paper';

function DividerStackExample() {
  return (
    <Stack
      direction="row"
      divider={<Divider orientation="vertical" flexItem />}
      spacing={2}
    >
      <Paper elevation={0}>Item 1</Paper>
      <Paper elevation={0}>Item 2</Paper>
      <Paper elevation={0}>Item 3</Paper>
    </Stack>
  );
}

export default DividerStackExample;
```

In this example, we use a vertical divider to separate the `Paper` components. The `flexItem` prop is crucial for making the divider stretch the entire height of the stack. For a horizontal stack, the divider should have `orientation="vertical"`. For a vertical stack, the divider should have `orientation="horizontal"`.

## Responsive Direction

The `direction` prop can also be responsive, allowing you to change the orientation of the stack based on screen size. Use the breakpoints provided by the MUI theme (`xs`, `sm`, `md`, `lg`, `xl`).

```plaintext
import Stack from '@mui/material/Stack';
import Button from '@mui/material/Button';

function ResponsiveDirectionStackExample() {
  return (
    <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>
      <Button variant="contained">Button 1</Button>
      <Button variant="contained">Button 2</Button>
      <Button variant="contained">Button 3</Button>
    </Stack>
  );
}

export default ResponsiveDirectionStackExample;
```

In this example, the buttons will be arranged vertically on extra-small screens (`xs`) and horizontally on small screens (`sm`) and larger.

## Responsive Spacing

Similarly, the `spacing` prop can be responsive.

```plaintext
import Stack from '@mui/material/Stack';
import Button from '@mui/material/Button';

function ResponsiveSpacingStackExample() {
  return (
    <Stack direction="row" spacing={{ xs: 1, sm: 2, md: 3 }}>
      <Button variant="contained">Button 1</Button>
      <Button variant="contained">Button 2</Button>
      <Button variant="contained">Button 3</Button>
    </Stack>
  );
}

export default ResponsiveSpacingStackExample;
```

This example adjusts the spacing between the buttons based on the screen size.

## Advanced Styling with `sx` Prop

The `Stack` component supports the `sx` prop, allowing you to apply custom CSS styles. This is a powerful way to fine-tune the appearance and behavior of the stack.

```plaintext
import Stack from '@mui/material/Stack';
import Button from '@mui/material/Button';

function StyledStackExample() {
  return (
    <Stack
      direction="row"
      spacing={2}
      sx={{
        backgroundColor: 'lightgrey',
        padding: 2,
        borderRadius: 1,
        '& > button': { // Style direct children that are buttons
          textTransform: 'uppercase',
        },
      }}
    >
      <Button variant="contained">Button 1</Button>
      <Button variant="contained">Button 2</Button>
      <Button variant="contained">Button 3</Button>
    </Stack>
  );
}

export default StyledStackExample;
```

This example demonstrates how to:

- Set the background color, padding, and border radius of the stack.
- Style the direct children of the stack that are `<Button>` elements using the `& > button` selector.

The `sx` prop is a powerful tool for customizing the `Stack` component to match your specific design requirements.

## Controlling Alignment with `justifyContent` and `alignItems`

While `Stack` handles spacing and direction, you might need finer control over alignment. You can leverage the underlying flexbox properties using the `sx` prop in conjunction with `justifyContent` and `alignItems`.

- **`justifyContent`**: Controls how items are aligned along the _main axis_ (horizontal for `direction="row"`, vertical for `direction="column"`). Possible values include: `'flex-start'`, `'flex-end'`, `'center'`, `'space-between'`, `'space-around'`, `'space-evenly'`.
- **`alignItems`**: Controls how items are aligned along the _cross axis_ (vertical for `direction="row"`, horizontal for `direction="column"`). Possible values include: `'flex-start'`, `'flex-end'`, `'center'`, `'stretch'`, `'baseline'`.

```plaintext
import Stack from '@mui/material/Stack';
import Button from '@mui/material/Button';

function AlignmentStackExample() {
  return (
    <Stack
      direction="row"
      spacing={2}
      sx={{
        height: '100px', // Important for seeing vertical alignment
        alignItems: 'center', // Vertically center the buttons
        justifyContent: 'space-between', // Distribute buttons evenly horizontally
      }}
    >
      <Button variant="contained">Button 1</Button>
      <Button variant="contained">Button 2</Button>
      <Button variant="contained">Button 3</Button>
    </Stack>
  );
}

export default AlignmentStackExample;
```

In this example, `alignItems: 'center'` vertically centers the buttons within the Stack (you need to define a height for the stack for this to be visible). `justifyContent: 'space-between'` distributes the buttons evenly across the width of the Stack, with the first button at the start, the last button at the end, and the remaining space distributed between the buttons.

## Caveats and Best Practices

- **Semantic HTML:** While the `Stack` component simplifies layout, remember to use semantic HTML elements where appropriate. For example, use `<nav>`, `<aside>`, `<article>`, etc., within the `Stack` to provide structure and meaning to your content.
- **Overriding Styles:** While the `sx` prop is powerful, avoid overusing it to override default MUI styles. Try to leverage the theme and component variants as much as possible.
- **Performance:** For very complex layouts with numerous elements, consider the performance implications of using the `Stack` component. In some cases, manually implementing flexbox might offer better performance.
- **Testing:** Thoroughly test your layouts across different screen sizes and browsers to ensure responsiveness and visual consistency.

## Conclusion

The `Stack` component in Material UI v5 is a valuable tool for creating flexible and responsive layouts. By understanding its properties and capabilities, you can streamline your development workflow and build visually appealing and functional web applications. Experiment with the different options and examples provided in this guide to master the `Stack` component and leverage its full potential. Remember to consider semantic HTML, avoid overusing the `sx` prop, and always test your layouts thoroughly.
